/*! jQuery UI Virtual Keyboard (1.30.10) - ALL Extensions + Mousewheel */
/*! jQuery UI Virtual Keyboard Alt Key Popup v2.0.0 */
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&"object"==typeof module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(p){"use strict";var u=p.keyboard;p.extend(u.css,{altKeyPopup:"ui-keyboard-popup",altKeyOverlay:"ui-keyboard-overlay",altKeyPopupOpen:"ui-keyboard-popup-open"}),u.altKeys=p.extend({a:"å æ ā ă ą à á â ã ä",A:"Å Æ Ā Ă Ą À Á Â Ã Ä",c:"ç ć ĉ ċ č",C:"Ç Ć Ĉ Ċ Č",d:"ď ð ď",D:"Ď Ð Ď",e:"ė ę ĕ ě ə è é ê ë ē",E:"Ė Ę Ĕ Ě Ǝ È É Ê Ë Ē",g:"ģ ğ ĝ ġ",G:"Ģ Ğ Ĝ Ġ",h:"ĥ ħ",H:"Ĥ Ħ",i:"ı į ī ï î í ì ĩ ĭ",I:"İ Į Ī Ï Î Í Ì Ĩ Ĭ",j:"ĵ",J:"Ĵ",k:"ķ",K:"Ķ",l:"Ł Ľ Ļ Ĺ Ŀ",L:"ł ľ ļ ĺ ŀ",n:"ŉ ň ņ ń ñ",N:"ŉ Ň Ņ Ń Ñ",o:"œ ő ø ö õ ô ó ò ō ŏ",O:"Œ Ő Ø Ö Õ Ô Ó Ò Ō Ŏ",r:"ŕ ř ŗ",R:"Ŕ Ř Ŗ",s:"ś š ş ß § ŝ",S:"Ś Š Ş ẞ § Ŝ",t:"þ ť ț ţ ŧ",T:"Þ Ť Ț Ţ Ŧ",u:"ų ű ů ū ü û ú ù ũ ŭ",U:"Ų Ű Ů Ū Ü Û Ú Ù Ũ Ŭ",w:"ŵ",W:"Ŵ",y:"ý",Y:"Ý",z:"ź ż ž",Z:"Ź Ż Ž","!":"¡",$:"€ £ ¤ ¥ ¢ ₡ ₱ ₩ ₹ ₪ ₭ ₮ ₦ ₤","?":"¿","'":"〈 「 『 “",'"':"〉 」 』 ”","(":"《 【 〔",")":"》 】 〕"},u.altKeys),p.fn.addAltKeyPopup=function(e){var t={holdTime:500,popupVisible:"popup-visible",popupHidden:"popup-hidden",popupPosition:null};return this.each(function(){var r=p(this).data("keyboard");if(r){if(r.altkeypopup_options=p.extend({},t,r.altkeypopup_options,e),r.altkeypopup_namespace)return r.altkeypopup_setup();r.altkeypopup_namespace=r.namespace+"AltKeyPopup",r.extensionNamespace.push(r.altkeypopup_namespace),r.altkeypopup_setup=function(){var a,e="mousedown touchstart ".split(" ").join(r.altkeypopup_namespace+" "),t="mouseup touchend touchcancel ".split(" ").join(r.altkeypopup_namespace+" ");r.options.repeatRate=0,r.unbindButton(r.altkeypopup_namespace).bindButton(e,function(){clearTimeout(a);var e=p(this),t=e.attr("data-value")||"",o=r.altkeypopup_options.holdTime;t in u.altKeys&&(o?a=setTimeout(function(){r.altKeyPopup_popup(t,e)},o):r.altKeyPopup_popup(t,e))}).bindButton(t,function(){clearTimeout(a)}),r.altkeypopup_blockingFlag=!1,r.$preview.unbind("keypress keydown keyup ".split(" ").join(r.altkeypopup_namespace+" ").trim()).bind("keypress keydown keyup ".split(" ").join(r.altkeypopup_namespace+" "),function(e){var t,o,n,i;return"keyup"===e.type?(clearTimeout(a),r.altkeypopup_blockingFlag=!1,"Escape"!==e.key):(t=u.builtLayouts[r.layout],o=p(e.target),n=e.key,i=e.key,"keydown"===e.type&&i in u.altKeys?r.altkeypopup_blockingFlag!==n&&(r.altkeypopup_blockingFlag=n,!0):r.altkeypopup_blockingFlag?((i=t.hasMappedKeys&&t.mappedKeys.hasOwnProperty(i)?t.mappedKeys[i]:i)in u.altKeys&&(clearTimeout(a),a=setTimeout(function(){r.altkeypopup_blockingFlag===n&&r.altKeyPopup_popup(i,o)},r.altkeypopup_options.holdTime)),!0):void 0)})},r.altKeyPopup_close=function(){r.altkeypopup_blockingFlag=!1,r.altKeyPopup_$overlay=null,setTimeout(function(){var e;r.$keyboard.length&&(r.$keyboard.removeClass(u.css.altKeyPopupOpen),e=r.$keyboard.find("."+u.css.altKeyOverlay))&&e.remove()},1),p(document).unbind(r.altkeypopup_namespace),r.$preview.focus(),r.options.ignoreEsc=r.altKeyPopup_savedIgnoreEsc,r.$el.trigger(r.altkeypopup_options.popupHidden,[r])},r.altKeyPopup_popup=function(e,t){var o,n,i,a,s;r.$keyboard.find("."+u.css.altKeyOverlay).length||(a=u.css,s={$kb:r.$keyboard,kbWidth:r.$keyboard.outerWidth(),kbHeight:r.$keyboard.outerHeight(),$key:t},r.altKeyPopup_$overlay=p('<div class="'+a.altKeyOverlay+'" />').css({width:s.kbWidth,height:s.kbHeight}).appendTo(r.$keyboard).bind("click touchstart",function(){r.altKeyPopup_close()}),i="inactive hidden ".split(" ").join(r.altkeypopup_namespace+" "),r.$keyboard.addClass(u.css.altKeyPopupOpen),r.$el.unbind(i).bind(i,function(){r.altKeyPopup_close()}),"bksp"!==e&&u.keyaction.bksp(r),i=p('<div class="'+a.altKeyPopup+" "+r.options.css.container+'" />'),e=u.altKeys[e].split(/\s+/),r.buildRow(i,0,e,[]),o=i.appendTo(r.altKeyPopup_$overlay).children().bind("mousedown touchstart",function(){r.altKeyPopup_close()}).bind("mouseover mouseleave",function(e){o.removeClass(r.options.css.buttonHover),"mouseleave"!==e.type&&p(this).addClass(r.options.css.buttonHover)}),r.altKeyPopup_navigate(!0),r.altKeyPopup_savedIgnoreEsc=r.options.ignoreEsc,r.options.ignoreEsc=!0,p(document).unbind(r.altkeypopup_namespace).bind("keydown"+r.altkeypopup_namespace,function(){return!1}).bind("keyup"+r.altkeypopup_namespace,function(e){return"Escape"===e.key?(e.which=0,r.altKeyPopup_close()):r.altKeyPopup_navigate(e),!1}),e=(s.$popup=i).outerWidth(),(n=t.position().left-e/2)+e>s.kbWidth&&(n=s.kbWidth-e)<0&&i.css({width:s.kbWidth,height:"auto"}),e=t.position().top-t.outerHeight()-5,t=i.outerHeight(),a=r.$keyboard.find("."+a.keySet).position().top,e+t>s.kbHeight&&(e=s.kbHeight-t)<a&&i.css({height:s.popupHeight,width:"auto"}),s.popupWidth=i.outerWidth(),s.popupHeight=i.outerHeight(),s.popupLeft=n<0?0:n,s.popupTop=e<a?a:e,i.css({position:"absolute",left:s.popupLeft,top:s.popupTop}),"function"==typeof r.altkeypopup_options.popupPosition&&r.altkeypopup_options.popupPosition(r,s),r.$preview.blur(),r.$el.trigger(r.altkeypopup_options.popupVisible,[r]))},r.altKeyPopup_navigate=function(e){var t,o=u.css,n=(u.navigationKeys,r.options.css.buttonHover),o=r.$keyboard.find("."+o.altKeyPopup).find("."+o.keyButton),i=o.length-1;if(!0===e)o.eq(0).addClass(n),r.altKeyPopup_currentIndex=0;else{if(t=r.altKeyPopup_currentIndex,"Enter"===e.key)return r.insertText(o.eq(t).attr("data-value")),r.altKeyPopup_close(),!0;switch(e.key){case"End":t=i;break;case"Home":t=0;break;case"ArrowLeft":--t;break;case"ArrowRight":t+=1}r.altKeyPopup_currentIndex=t=i<(t=t<0?0:t)?i:t,o.removeClass(n).eq(t).addClass(n)}},r.options.alwaysOpen&&r.isVisible()&&r.altkeypopup_setup(),r.$el.unbind(u.events.kbBeforeVisible+r.altkeypopup_namespace).bind(u.events.kbBeforeVisible+r.altkeypopup_namespace,function(){r.altkeypopup_setup()})}})}}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&"object"==typeof module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(s){"use strict";s.fn.addAutocomplete=function(i){var a={position:{of:null,my:"right top",at:"left top",collision:"flip"},events:"autocomplete",data:""};return this.each(function(){var t,o,n=s(this).data("keyboard");n&&(o=n.namespace+"Autocomplete",n.autocomplete_namespace=o,n.extensionNamespace.push(o),n.autocomplete_init=function(){var e=(t=n.autocomplete_options=s.extend(!0,{},a,i)).events||t.data||"autocomplete";n.options.alwaysOpen&&n.isVisible()&&n.autocomplete_setup(),n.$el.unbind(o).bind(s.keyboard.events.kbVisible+o,function(){n.autocomplete_setup()}).bind(s.keyboard.events.kbHidden+o,function(){n.$el[t.data||"autocomplete"]("close")}).bind(s.keyboard.events.kbChange+o,function(){n.hasAutocomplete&&n.isVisible()&&n.$el.val(n.$preview.val())}).bind(e+"open"+o,function(){var e;n.hasAutocomplete&&((e=s.extend({},t.position)).of=e.of||n.$keyboard,n.$autocomplete.menu.element.position(e))}).bind(e+"select"+o,function(e,t){n.autocomplete_getVal(t.item)})},n.autocomplete_getVal=function(e){var t;switch(typeof e){case"string":t=e||"";break;case"object":t=e.label||e.value||"";break;default:t=n.preview&&n.preview.value||n.el.value}t=t.toString(),n.hasAutocomplete&&""!==t&&((n.$preview||n.$el).val(t).focus(),n.last.start=t.length,n.last.end=t.length,n.last.val=t)},n.autocomplete_update=function(e){clearTimeout(n.$autocomplete.searching),n.$autocomplete.searching=setTimeout(function(){n.$autocomplete.term!==n.$autocomplete.element.val()&&(n.$autocomplete.selectedItem=null,n.$autocomplete.search(null,e))},n.$autocomplete.options.delay)},n.autocomplete_navKeys={8:"backSpace",9:"tab",13:"enter",20:"capsLock",27:"escape",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete"},n.autocomplete_setup=function(){var t,e;n.$autocomplete=n.$el.data(n.autocomplete_options.data)||n.$el.data("uiAutocomplete")||n.$el.data("ui-autocomplete")||n.$el.data("autocomplete"),n.hasAutocomplete=void 0!==n.$autocomplete&&!n.$autocomplete.options.disabled,n.hasAutocomplete&&(n.$preview.bind("keydown"+o+" keypress"+o,function(e){n.$preview&&e.namespace!==n.$autocomplete.eventNamespace&&(e.namespace=n.$autocomplete.eventNamespace.slice(1),(t=n.autocomplete_navKeys[e.which])?n.el!==n.preview&&(n.$el.triggerHandler(e),"enter"===t)&&setTimeout(function(){n.$autocomplete&&(n.$preview.val(n.$autocomplete.selectedItem.value),n.$preview.focus())},100):n.autocomplete_update(e))}),e="mouseup mousedown mouseleave touchstart touchend touchcancel ".split(" ").join(o+" "),n.bindButton(e,function(e){n.autocomplete_update(e)})),n.escCloseCallback.autocomplete||(n.escCloseCallback.autocomplete=n.checkAutocompleteMenu)},n.checkAutocompleteMenu=function(e){return n.hasAutocomplete&&e.closest("ul").hasClass("ui-autocomplete")},n.autocomplete_destroy=function(){clearTimeout(n.$autocomplete.searching),n.hasAutocomplete=!1,n.$el.unbind(o),n.$preview&&(n.$preview.unbind(o),n.unbindButton(o)),delete n.$autocomplete},n.autocomplete_init())})}}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&"object"==typeof module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(a){"use strict";var l=a.keyboard;l.firefox=void 0!==window.mozInnerScreenX,a.extend(l.css,{caret:"ui-keyboard-caret",caretMirror:"ui-keyboard-mirror-div"}),a.fn.addCaret=function(e){var t={caretClass:"",charAttr:"data-character",charIndex:1,offsetX:0,offsetY:0,adjustHt:0};return this.each(function(){var p,n,i=l.events,u=a(this).data("keyboard");u&&(p=u.caret_options=a.extend({},t,e),n=u.caret_namespace=u.namespace+"caret",u.extensionNamespace.push(n),u.textareaCaretProperties=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],u.caret_setup=function(){var e=l.css,t="keyup keypress mouseup mouseleave ".split(" ").join(n+" "),o="position:absolute;visibility:hidden;top:-9999em;left:-9999em;white-space:pre-wrap;z-index:-10;"+("INPUT"===u.preview.nodeName?"":"word-wrap:break-word;");u.$keyboard.find("."+e.caretMirror).remove(),u.caret_$div=a('<div class="'+e.caretMirror+'" style="'+o+'">').appendTo(u.$keyboard),u.$caret&&u.$caret.remove(),u.$caret=a('<div class="'+e.caret+" "+p.caretClass+'" style="position:absolute;">').insertAfter(u.$preview),u.$el.unbind(i.kbChange+n).bind(i.kbChange+n,function(){u.findCaretPos()}),u.$preview.unbind(t).bind(t,function(){u.findCaretPos()})},u.findCaretPos=function(){var e,t,o,n,i,a,s,r;u.caret_$div&&(e=u.preview,t=parseFloat(u.$preview.css("fontSize")),o="INPUT"===e.nodeName,n=u.caret_$div[0],i=n.style,a=window.getComputedStyle?getComputedStyle(e,null):e.currentStyle,s=l.caret(u.$preview),r=Math["ltr"===a.direction?"max":"min"](s.start,s.end),u.textareaCaretProperties.forEach(function(e){i[e]=a[e]}),l.firefox&&(i.width=parseInt(a.width,10)-2+"px",e.scrollHeight>parseInt(a.height,10))&&(i.overflowY="scroll"),i.width=parseInt(o?e.scrollWidth:a.width,10)+(o?2*t:0)+"px",n.textContent=e.value.substring(0,r),"INPUT"===e.nodeName&&(n.textContent=n.textContent.replace(/\x20/g," ")),(o=document.createElement("span")).textContent=e.value.substring(r)||"​",n.appendChild(o),s="center"===i.textAlign?t:0,u.caretPos={top:o.offsetTop+parseInt(a.borderTopWidth,10)+p.offsetY,left:o.offsetLeft+parseInt(a.borderLeftWidth,10)+p.offsetX},n=parseInt(u.$caret.css("margin-top"),10),i=Math.round(t+2*n)+p.adjustHt,s=u.$preview.position(),u.$caret.css({top:s.top-e.scrollTop+u.caretPos.top-n,left:s.left-e.scrollLeft+u.caretPos.left,height:i}),o=e.value.substring(r,r+p.charIndex).replace(/\s/," ")||" ",u.$caret.attr(p.charAttr,o))},u.$el.unbind(n).bind(i.kbBeforeVisible+n,function(){u.caret_setup()}).bind(i.kbVisible+n,function(){u.findCaretPos()}).bind(i.kbHidden+n,function(){var e="keyup keypress mouseup mouseleave ".split(" ").join(n+" ");u.$preview.unbind(e),u.$caret.remove(),u.$caret=null,u.caret_$div=null}),u.options.alwaysOpen)&&u.isVisible()&&(u.caret_setup(),u.findCaretPos())})}}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&"object"==typeof module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(n){"use strict";var i=n.keyboard;i.css.extender="ui-keyboard-extender",i.language.en.display.extender=" :toggle_numpad",i.layouts.numpad={normal:["{clear} / * -","7 8 9 +","4 5 6 %","1 2 3 =","0 {dec} {left} {right}"]},i.keyaction.extender=function(e){return e.extender_toggle(),!1},n.fn.addExtender=function(e){var t={layout:"numpad",showing:!1,reposition:!0};return this.each(function(){var o=n(this).data("keyboard");if(o){if(o.extender_options=n.extend({},t,o.extender_options,e),o.extender_namespace)return o.extender_layoutSwitcher();o.extender_namespace=o.namespace+"extender",o.extensionNamespace.push(o.extender_namespace),o.extender_layoutSwitcher=function(){o.extender_lastKeyset=o.last.keyset,o.extender_bindEvents(!1),o.$el.one(i.events.kbBeforeVisible,function(){o.shiftActive=o.extender_lastKeyset[0],o.altActive=o.extender_lastKeyset[1],o.metaActive=o.extender_lastKeyset[2],o.showKeySet(),o.extender_setup(),o.extender_bindEvents()}),o.redraw()},o.extender_bindEvents=function(e){var t=i.events.kbBeforeVisible+o.extender_namespace;o.$el.unbind(t),!1!==e&&o.$el.bind(t,function(){o.extender_setup()})},o.extender_setup=function(){var e=o.extender_options.layout;void 0===i.builtLayouts[e]&&o.buildKeyboard(e),(e=i.builtLayouts[e].$keyboard.find("."+i.css.keySet+"-normal").clone()).removeClass().removeAttr("name").addClass(i.css.extender).children("button").removeAttr("data-pos"),e[0].style.display=o.extender_options.showing?"inline-block":"none",o.$keyboard.find("div."+i.css.extender).remove(),o.$keyboard.append(e),o.extender_toggle(o.extender_options.showing),o.bindKeys()},o.extender_toggle=function(e){o.extender_options.showing=void 0===e?!o.extender_options.showing:e,o.$keyboard.find("button."+i.css.extender).toggleClass(o.options.css.buttonActive,o.extender_options.showing).end().find("div."+i.css.extender)[0].style.display=o.extender_options.showing?"inline-block":"none",o.extender_options.reposition&&n(window).trigger("resize")},o.options.alwaysOpen&&o.isVisible()&&o.extender_setup(),o.extender_bindEvents()}})}}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&"object"==typeof module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(a){a.fn.addMobile=function(e){var i,t={container:{theme:"b",cssClass:"ui-body"},input:{theme:"b",cssClass:""},buttonMarkup:{theme:"b",cssClass:"ui-btn",shadow:"true",corners:"true"},buttonHover:{theme:"b",cssClass:"ui-btn-hover"},buttonAction:{theme:"b",cssClass:"ui-btn-active"},buttonActive:{theme:"b",cssClass:"ui-btn-active"},allThemes:"a b c"};return this.each(function(){var n=a(this).data("keyboard");n&&void 0!==a.fn.textinput&&(n.mobile_options=i=a.extend(!0,{},t,e),n.mobile_themes=a.trim((" "+i.allThemes).split(" ").join(" "+i.buttonMarkup.cssClass+"-")+(" "+i.allThemes).split(" ").join(" "+i.buttonAction.cssClass+"-")+(" "+i.allThemes).split(" ").join(" "+i.buttonActive.cssClass+"-")),void 0===n.options.mobile_savedActiveClass&&(n.options.mobile_savedActiveClass=""+n.options.css.buttonActive),n.mobile_init=function(){var e=n.namespace+"Mobile";a("."+a.keyboard.css.input).textinput(),n.options.alwaysOpen&&n.isVisible&&n.mobile_setup(),n.extensionNamespace.push(e),n.$el.unbind(e).bind(a.keyboard.events.kbBeforeVisible+e,function(){n&&n.el.active&&n.$keyboard.length&&n.$keyboard.css("visibility","hidden")}).bind(a.keyboard.events.kbVisible+e,function(){n&&n.el.active&&n.$keyboard.length&&(n.mobile_setup(),n.$keyboard.css("visibility","visible"),n.$preview.focus())})},n.mobile_setup=function(){var e=a.keyboard.css,t=n.options,o=n.mobile_themes;n.mobile_$actionKeys=n.$keyboard.find("."+n.options.css.buttonAction),t.css.buttonActive=t.mobile_savedActiveClass+" "+n.modOptions(i.buttonActive,i.buttonMarkup),n.$keyboard.addClass(n.modOptions(i.container,i.container)).find("."+e.preview).removeClass("ui-widget ui-widget-content").addClass(n.modOptions(i.input,i.input)).end().find("button").removeClass(a.trim("ui-corner-all ui-state-default "+o)).addClass(n.modOptions(i.buttonMarkup,i.buttonMarkup)).not(n.mobile_$actionKeys).hover(function(){a(this).removeClass(o).addClass(n.modOptions(i.buttonHover,i.buttonMarkup))},function(){a(this).removeClass(o+" "+i.buttonHover.cssClass).addClass(n.modOptions(i.buttonMarkup,i.buttonMarkup))}),n.mobile_$actionKeys.removeClass(o).addClass(n.modOptions(i.buttonAction,i.buttonMarkup)),n.msie&&n.$preview[0]!==n.el&&(n.$preview.hide(),n.$keyboard.css("width",""),n.width=n.$keyboard.outerWidth(),n.$keyboard.width(n.width+parseInt(n.$preview.css("fontSize"),10)),n.$preview.width(n.width),n.$preview.show()),a.ui&&a.ui.position&&((e=t.position).of=e.of||n.$el.data("keyboardPosition")||n.$el,e.collision=e.collision||"flipfit flipfit",n.$keyboard.position(e))},n.modOptions=function(e,t){return" "+(e.cssClass||"")+" "+(t&&t.cssClass?t.cssClass+"-"+(e.theme||""):"")+("true"==e.shadow?" ui-shadow":"")+("true"==e.corners?" ui-corner-all":"")},n.mobile_init())})}}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&"object"==typeof module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(b){"use strict";b.keyboard=b.keyboard||{},b.keyboard.navigationKeys={toggle:112,enter:13,pageup:33,pagedown:34,end:35,home:36,left:37,up:38,right:39,down:40,caretrt:45,caretlt:46,caretright:function(e){b.keyboard.keyaction.right(e)},caretleft:function(e){b.keyboard.keyaction.left(e)}},b.fn.addNavigation=function(t){return this.each(function(){var l,e,c=b(this).data("keyboard"),d=c.options,n=b.keyboard.events,y=b.keyboard.css;c&&(c.navigation_options=l=b.extend({},{position:[0,0],toggleMode:!1,focusClass:"hasFocus",toggleKey:null,rowLooping:!1},t),c.navigation_keys=e=b.extend({},b.keyboard.navigationKeys),c.navigation_namespace=c.namespace+"Nav",c.extensionNamespace.push(c.navigation_namespace),c.saveNav=[c.options.tabNavigation,c.options.enterNavigation],c.allNavKeys=b.map(e,function(e){return e}),c.navigation_init=function(){c.$keyboard.toggleClass(l.focusClass,l.toggleMode).find("."+y.keySet+":visible").find("."+y.keyButton+'[data-pos="'+l.position[0]+","+l.position[1]+'"]').addClass(d.css.buttonHover),c.$preview.unbind(c.navigation_namespace).bind("keydown"+c.navigation_namespace,function(e){return c.checkKeys(e.which)})},c.checkKeys=function(e,t){var o;if(void 0!==e&&c.isVisible())return o=c.navigation_keys,e!==(l.toggleKey||o.toggle)&&!t||(l.toggleMode=!t&&!l.toggleMode,c.options.tabNavigation=!l.toggleMode&&c.saveNav[0],c.options.enterNavigation=!l.toggleMode&&c.saveNav[1]),c.$keyboard.toggleClass(l.focusClass,l.toggleMode),l.toggleMode&&e===o.enter?(c.$keyboard.find("."+y.keySet+":visible").find("."+y.keyButton+'[data-pos="'+l.position[0]+","+l.position[1]+'"]').trigger(n.kbRepeater),!1):l.toggleMode&&0<=b.inArray(e,c.allNavKeys)?(c.navigateKeys(e),!1):void 0},c.getMaxIndex=function(e,t){return e.find("."+y.keyButton+'[data-pos^="'+t+',"]').length-1},c.leftNavigateKey=function(e,t){var o=c.navigation_options.rowLooping,e=e-1;return 0<=e?e:o?t:0},c.rightNavigateKey=function(e,t){var o=c.navigation_options.rowLooping,e=e+1;return e<=t?e:o?0:t},c.navigateKeys=function(e,t,o){if(c.isVisible()){o="number"==typeof o?o:l.position[1],t="number"==typeof t?t:l.position[0];var n,i=c.$keyboard.find("."+y.keySet+":visible"),a=i.find("."+y.endRow).length-1,s=c.getMaxIndex(i,t),r=c.last,p=c.$preview.val().length,u=c.navigation_keys;switch(e){case u.pageup:t=0;break;case u.pagedown:t=a;break;case u.end:o=s;break;case u.home:o=0;break;case u.left:o=c.leftNavigateKey(o,s);break;case u.up:n=c.getMaxIndex(i,t+=0<t?-1:0),o=o===s?n:o;break;case u.right:o=c.rightNavigateKey(o,s);break;case u.down:n=c.getMaxIndex(i,t+=a<t+1?0:1),o=o===s?n:o;break;case u.caretrt:r.start++;break;case u.caretlt:r.start--}e!==u.caretrt&&e!==u.caretlt||(r.start=r.start<0?0:r.start>p?p:r.start,c.last.start=c.last.end=r.end=r.start,b.keyboard.caret(c.$preview,c.last)),(s=c.getMaxIndex(i,t))<o&&(o=s),i.find("."+d.css.buttonHover).removeClass(d.css.buttonHover),i.find("."+y.keyButton+'[data-pos="'+t+","+o+'"]').addClass(d.css.buttonHover),l.position=[t,o]}},c.options.alwaysOpen&&c.isVisible()&&(c.$keyboard.find("."+d.css.buttonHover).removeClass(d.css.buttonHover),c.navigation_init()),c.$el.unbind(c.navigation_namespace).bind(n.kbVisible,function(){c.$keyboard.find("."+d.css.buttonHover).removeClass(d.css.buttonHover),c.navigation_init()}).bind(n.kbInactive+" "+n.kbHidden,function(e){c.checkKeys(e.which,!0)}).bind(n.kbKeysetChange,function(){c.navigateKeys(null)}).bind("navigate navigateTo",function(e,t,o){var n;(t=isNaN(t)?t.toLowerCase():t)in c.navigation_keys?(n=c.navigation_keys[t],isNaN(n)&&n in b.keyboard.keyaction?b.keyboard.keyaction[n](c,this,e):"function"==typeof n?n(c):c.checkKeys(n)):"string"==typeof t&&t in b.keyboard.keyaction?b.keyboard.keyaction[t](c,this,e):c.navigateKeys(null,t,o)}))})}}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&"object"==typeof module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(p){"use strict";p.keyboard=p.keyboard||{},p.fn.previewKeyset=function(o){return this.each(function(){var e=p(this).data("keyboard"),t=e.namespace+"Preview";e&&(e.previewKeyset_options=p.extend({},{sets:["normal","shift","alt","alt-shift"]},o),e.extensionNamespace.push(t),e.previewKeyset=function(){var a=p.keyboard.css,s=e.previewKeyset_options.sets,r=e.$keyboard.find("."+a.keySet).filter('[name="'+s.join('"],[name="')+'"]');1<r.length&&r.eq(0).find("."+a.keyButton).not("."+a.keyAction).each(function(){for(var e,t={},o=s.length,n=r.find('button[data-pos="'+p(this).attr("data-pos")+'"]'),i=0;i<o;i++)e=n.eq(i).parent().attr("name"),0<=p.inArray(e,s)&&(t["data-"+e]=n.eq(i).find("."+a.keyText).text());n.attr(t)})},e.options.alwaysOpen&&e.isVisible()?e.previewKeyset():e.$el.unbind(p.keyboard.events.kbBeforeVisible+t).bind(p.keyboard.events.kbBeforeVisible+t,function(){e.previewKeyset()}))})}}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&"object"==typeof module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(b){"use strict";b.keyboard=b.keyboard||{},b.fn.addScramble=function(e){var n={targetKeys:/[a-z\d]/i,byRow:!0,byKeySet:!1,randomizeOnce:!0,randomizeInput:!1,init:null,sameForAll:!1};return this.each(function(){var d,y=b(this).data("keyboard"),t=y.namespace+"Scramble",o=y.options;y&&!y.scramble_options&&(d=y.scramble_options=b.extend({},n,e),y.extensionNamespace.push(t),d.orig_create=o.create,y.scramble_setup=function(e){var t,o,n,i,a,s,r,p,u,l,c=e.find("."+b.keyboard.css.keySet);if(e.length){for(d.byKeySet&&(c=c.eq(0)),t=0;t<c.length;t++)if(o=c.eq(t),s=0,l=[],p=[],r=[],u=[],o.children("button, span, br").each(function(){"BR"===this.tagName?(d.byRow?(l.push(this),p.push(!1),u[s]=l,r[s]=p,l=[],p=[]):(u[s]=this,r[s]=!1),s++):(a=!(1!==(a=b(this).attr("data-value")||"").length||!d.targetKeys.test(a))&&a,d.byRow?(l.push(this),p.push(a)):(u[s]=this,r[s]=a,s++))}),o.find("."+b.keyboard.css.endRow).remove(),d.byRow)for(i=0;i<u.length;i++)for(l=y.shuffle(u[i],r[i]),n=0;n<l.length;n++)o.append(l[n]);else for(l=y.shuffle(u,r),n=0;n<l.length;n++)o.append(l[n]);return e=d.byKeySet?y.realign(e):e}},y.getRandomUInt=function(e){var t,o=window.crypto||window.msCrypto;return void 0!==o?(t=new Uint32Array(1),o.getRandomValues(t),t[0]%e):Math.floor(Math.random()*e)},y.shuffle=function(e,t){for(var o,n,i=e.length;0<i;)n=y.getRandomUInt(i),!1===t[i-1]&&i--,!1!==t[i-1]&&!1!==t[n]&&(o=e[--i],e[i]=e[n],e[n]=o);return e},y.realign=function(e){var o,n,i,t=(a=e.find("."+b.keyboard.css.keySet)).eq(0),a=a.filter(":gt(0)");return t.children().each(function(e,t){n="BR"===t.tagName,i=b(t).attr("data-pos"),a.each(function(e,t){o=n?"br:first":'button[data-pos="'+i+'"]',b(t).find(o).appendTo(t)})}),e},y.setScrambleLayout=function(){var e;/^scrambled/.test(o.layout)||(y.orig_layout=o.layout,e=e||"scrambled"+Math.round(1e4*Math.random()),o.layout=d.sameForAll?e:"scrambled"+Math.round(1e4*Math.random()))},o.create=function(){var e=o.layout;b.keyboard.builtLayouts[e]={mappedKeys:{},acceptedKeys:[],$keyboard:null},y.layout=o.layout=y.orig_layout,y.buildKeyboard(y.layout,!0),y.layout=o.layout=e,b.keyboard.builtLayouts[e]=b.extend(!0,{},b.keyboard.builtLayouts[y.orig_layout]),d.randomizeOnce&&(b.keyboard.builtLayouts[e].$keyboard=y.scramble_setup(b.keyboard.builtLayouts[y.orig_layout].$keyboard.clone())),y.$keyboard=b.keyboard.builtLayouts[e].$keyboard,d.randomizeInput?y.$el.unbind(b.keyboard.events.kbChange+t).bind(b.keyboard.events.kbChange+t,function(e,t){d.targetKeys.test(t.last.key)&&(t.$keyboard.find("."+o.css.buttonHover).removeClass(o.css.buttonHover),t.$keyboard=t.scramble_setup(t.$keyboard),b(document.elementFromPoint(e.clientX,e.clientY)).trigger("mouseenter"))}):d.randomizeOnce||y.$el.unbind(b.keyboard.events.kbBeforeVisible+t).bind(b.keyboard.events.kbBeforeVisible+t,function(e,t){t.$keyboard=t.scramble_setup(t.$keyboard)}),"function"==typeof d.orig_create&&d.orig_create(y)},y.setScrambleLayout(),o.alwaysOpen&&y.$keyboard.length?setTimeout(function(){var e=b.keyboard.builtLayouts;y.$keyboard=y.scramble_setup(y.$keyboard),y.setScrambleLayout(),void 0===e[o.layout]&&(e[o.layout]={mappedKeys:b.extend({},e[y.layout].mappedKeys),acceptedKeys:b.extend([],e[y.layout].acceptedKeys),$keyboard:y.$keyboard.clone()}),"function"==typeof d.init&&d.init(y)},0):"function"==typeof d.init&&d.init(y))})}}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&"object"==typeof module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(i){i.fn.addTyping=function(e){var t={showTyping:!0,lockTypeIn:!1,delay:250,hoverDelay:250},u=i.keyboard;return this.each(function(){var r,p=i(this).data("keyboard");p&&(r=p.typing_options=i.extend({},t,e),p.typing_keymap={" ":"space",'"':"34","'":"39","&nbsp;":"space","\b":"bksp","{b}":"bksp","{d}":"del","{l}":"left","{r}":"right","\n":"enter","\r":"enter","{e}":"enter","\t":"tab","{t}":"tab"},p.typing_xref={8:"bksp",9:"tab",13:"enter",32:"space",37:"left",39:"right",46:"del"},p.typing_event=!1,p.typing_namespace=p.namespace+"typing",p.extensionNamespace.push(p.typing_namespace),r.savedLockInput=p.options.lockInput,p.typing_setup_reset=function(){var e=u.events,t=p.typing_namespace,e=[e.kbHidden,e.kbInactive,""].join(t+" ");p.$el.unbind(t).bind(e,function(){p.typing_reset()}),p.unbindButton(t).bindButton("mousedown"+t,function(){p.typing_reset()})},p.typing_setup=function(){var e=p.typing_namespace;p.typing_setup_reset(),p.$el.bind(u.events.kbBeforeVisible+e,function(){p.typing_setup()}),p.$preview.unbind(e).bind("keyup"+e,function(e){if(r.init&&r.lockTypeIn||!r.showTyping)return!1;37<=e.which&&e.which<=40||(16===e.which&&(p.shiftActive=!1),18===e.which&&(p.altActive=!1),16!==e.which&&18!==e.which)||(p.showSet(),setTimeout(function(){p.$preview&&p.$preview.focus()},200))}).bind("keydown"+e,function(e){if(r.init&&r.lockTypeIn||!r.showTyping)return!1;e.temp=!1,16===e.which&&(e.temp=!p.shiftActive,p.shiftActive=!0),18===e.which&&(e.temp=!p.altActive,p.altActive=!0),e.temp&&(p.showSet(),p.$preview.focus()),p.typing_event=!0,p.typing_xref[e.which]&&p.typing_findKey("",e)}).bind("keypress"+e,function(e){if(r.init&&r.lockTypeIn)return!1;p.typing_event&&!p.options.lockInput&&(p.typing_reset(),p.typing_event=!0,p.typing_findKey("",e))})},p.typing_reset=function(){p.typing_event=r.init=!1,r.text="",r.len=r.current=0,p.options.lockInput=r.savedLockInput},p.typeIn=function(e,t,o,n){p.isVisible()?p.typing_event?void 0===e&&(p.typing_event=!1,p.options.lockInput=r.savedLockInput):(!0!==r.init&&(r.init=!0,p.options.lockInput=r.lockTypeIn,r.text=e||r.text||"",r.len=r.text.length,r.delay=t||r.delay,r.current=0,o)&&(r.callback=o),"{"===(e=r.text.substring(r.current,++r.current))&&"}"===r.text.substring(r.current+1,r.current+2)&&(e+=r.text.substring(r.current,r.current+=2)),p.typing_findKey(e,n)):(clearTimeout(p.typing_timer),p.typing_reset())},p.typing_findKey=function(e,t){var o,n,i,a=u.css,s=u.builtLayouts[p.layout].mappedKeys;p.isOpen&&p.$keyboard.length&&(n=p.$keyboard.find("."+a.keySet),i=e in p.typing_keymap?p.typing_keymap[e]:e,i="."+a.keyButton+'[data-action="'+i+'"]',p.typing_event&&t&&(i="keypress"!==t.type&&p.typing_xref.hasOwnProperty(t.keyCode||t.which)?"."+a.keyPrefix+p.processName(p.typing_xref[t.keyCode||t.which]):(o=String.fromCharCode(t.charCode||t.which),s.hasOwnProperty(o)?"."+a.keyButton+'[data-value="'+s[o].replace(/"/g,'\\"')+'"]':"."+a.keyPrefix+p.processName(o))),(s=n.filter(":visible").find(i)).length?p.typing_simulateKey(s,e,t):(i=(s=p.typing_event?n.find(i):(o=e in p.typing_keymap?p.typing_keymap[e]:p.processName(e),n.find("."+a.keyPrefix+o))).closest("."+a.keySet)).attr("name")?(r.showTyping&&(n=i.attr("name"),p.shiftActive=/shift/.test(n),p.altActive=/alt/.test(n),p.metaActive=p.last.keyset[2]=!!/\bmeta/.test(n)&&n.match(/meta[\w-]+/)[0],p.showSet(p.metaActive)),p.typing_simulateKey(s,e,t)):p.typing_event||(e in p.typing_keymap&&p.typing_keymap[e]in u.keyaction?u.keyaction[p.typing_keymap[e]](p,s,t):p.insertText(e),p.checkCombos(),p.$el.trigger(u.events.kbChange,[p,p.el])),r.current<=r.len&&0!==r.len?p.isVisible()&&(p.typing_timer=setTimeout(function(){p.typeIn()},r.delay)):0!==r.len?(p.typing_reset(),"function"==typeof r.callback&&(p.typing_timer=setTimeout(function(){"function"==typeof r.callback&&r.callback(p)},r.delay))):p.typing_reset())},p.typing_simulateKey=function(e,t,o){var n=e.length;p.isVisible()&&(r.showTyping&&n&&(e.filter(":visible").trigger("mouseenter"+p.namespace),r.showTyping)&&n&&setTimeout(function(){e.trigger("mouseleave"+p.namespace)},Math.min(r.hoverDelay,r.delay)),p.typing_event||setTimeout(function(){t in p.typing_keymap&&p.typing_keymap[t]in u.keyaction?((o=o||i.Event("keypress")).target=e,u.keyaction[p.typing_keymap[t]](p,e,o)):p.insertText(t),p.checkCombos(),p.$el.trigger(u.events.kbChange,[p,p.el])},r.delay/3))},r.showTyping&&p.options.alwaysOpen&&p.isVisible()?p.typing_setup():p.$el.unbind(u.events.kbBeforeVisible+p.typing_namespace).bind(u.events.kbBeforeVisible+p.typing_namespace,function(){r.showTyping?p.typing_setup():p.typing_setup_reset()}))})}}),
/*! Mousewheel version: 3.1.12 * (c) 2014 Brandon Aaron * MIT License */
function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(u){var l,c,e=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],t="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],d=Array.prototype.slice;if(u.event.fixHooks)for(var o=e.length;o;)u.event.fixHooks[e[--o]]=u.event.mouseHooks;var y=u.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var e=t.length;e;)this.addEventListener(t[--e],n,!1);else this.onmousewheel=n;u.data(this,"mousewheel-line-height",y.getLineHeight(this)),u.data(this,"mousewheel-page-height",y.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=t.length;e;)this.removeEventListener(t[--e],n,!1);else this.onmousewheel=null;u.removeData(this,"mousewheel-line-height"),u.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var e=u(e),t=e["offsetParent"in u.fn?"offsetParent":"parent"]();return t.length||(t=u("body")),parseInt(t.css("fontSize"),10)||parseInt(e.css("fontSize"),10)||16},getPageHeight:function(e){return u(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};function n(e){var t,o=e||window.event,n=d.call(arguments,1),i=0,a=0,s=0,r=0,p=0;if((e=u.event.fix(o)).type="mousewheel","detail"in o&&(s=-1*o.detail),"wheelDelta"in o&&(s=o.wheelDelta),"wheelDeltaY"in o&&(s=o.wheelDeltaY),"wheelDeltaX"in o&&(a=-1*o.wheelDeltaX),"axis"in o&&o.axis===o.HORIZONTAL_AXIS&&(a=-1*s,s=0),i=0===s?a:s,"deltaY"in o&&(i=s=-1*o.deltaY),"deltaX"in o&&(a=o.deltaX,0===s)&&(i=-1*a),0!==s||0!==a)return 1===o.deltaMode?(i*=t=u.data(this,"mousewheel-line-height"),s*=t,a*=t):2===o.deltaMode&&(i*=t=u.data(this,"mousewheel-page-height"),s*=t,a*=t),t=Math.max(Math.abs(s),Math.abs(a)),(!c||t<c)&&f(o,c=t)&&(c/=40),f(o,t)&&(i/=40,a/=40,s/=40),i=Math[1<=i?"floor":"ceil"](i/c),a=Math[1<=a?"floor":"ceil"](a/c),s=Math[1<=s?"floor":"ceil"](s/c),y.settings.normalizeOffset&&this.getBoundingClientRect&&(o=this.getBoundingClientRect(),r=e.clientX-o.left,p=e.clientY-o.top),e.deltaX=a,e.deltaY=s,e.deltaFactor=c,e.offsetX=r,e.offsetY=p,e.deltaMode=0,n.unshift(e,i,a,s),l&&clearTimeout(l),l=setTimeout(b,200),(u.event.dispatch||u.event.handle).apply(this,n)}function b(){c=null}function f(e,t){return y.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}u.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})});
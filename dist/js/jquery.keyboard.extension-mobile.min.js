/*! jQuery UI Virtual Keyboard for jQuery Mobile Themes v1.4.1 */
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&"object"==typeof module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(n){n.fn.addMobile=function(e){var o,t={container:{theme:"b",cssClass:"ui-body"},input:{theme:"b",cssClass:""},buttonMarkup:{theme:"b",cssClass:"ui-btn",shadow:"true",corners:"true"},buttonHover:{theme:"b",cssClass:"ui-btn-hover"},buttonAction:{theme:"b",cssClass:"ui-btn-active"},buttonActive:{theme:"b",cssClass:"ui-btn-active"},allThemes:"a b c"};return this.each(function(){var i=n(this).data("keyboard");i&&void 0!==n.fn.textinput&&(i.mobile_options=o=n.extend(!0,{},t,e),i.mobile_themes=n.trim((" "+o.allThemes).split(" ").join(" "+o.buttonMarkup.cssClass+"-")+(" "+o.allThemes).split(" ").join(" "+o.buttonAction.cssClass+"-")+(" "+o.allThemes).split(" ").join(" "+o.buttonActive.cssClass+"-")),void 0===i.options.mobile_savedActiveClass&&(i.options.mobile_savedActiveClass=""+i.options.css.buttonActive),i.mobile_init=function(){var e=i.namespace+"Mobile";n("."+n.keyboard.css.input).textinput(),i.options.alwaysOpen&&i.isVisible&&i.mobile_setup(),i.extensionNamespace.push(e),i.$el.unbind(e).bind(n.keyboard.events.kbBeforeVisible+e,function(){i&&i.el.active&&i.$keyboard.length&&i.$keyboard.css("visibility","hidden")}).bind(n.keyboard.events.kbVisible+e,function(){i&&i.el.active&&i.$keyboard.length&&(i.mobile_setup(),i.$keyboard.css("visibility","visible"),i.$preview.focus())})},i.mobile_setup=function(){var e=n.keyboard.css,t=i.options,s=i.mobile_themes;i.mobile_$actionKeys=i.$keyboard.find("."+i.options.css.buttonAction),t.css.buttonActive=t.mobile_savedActiveClass+" "+i.modOptions(o.buttonActive,o.buttonMarkup),i.$keyboard.addClass(i.modOptions(o.container,o.container)).find("."+e.preview).removeClass("ui-widget ui-widget-content").addClass(i.modOptions(o.input,o.input)).end().find("button").removeClass(n.trim("ui-corner-all ui-state-default "+s)).addClass(i.modOptions(o.buttonMarkup,o.buttonMarkup)).not(i.mobile_$actionKeys).hover(function(){n(this).removeClass(s).addClass(i.modOptions(o.buttonHover,o.buttonMarkup))},function(){n(this).removeClass(s+" "+o.buttonHover.cssClass).addClass(i.modOptions(o.buttonMarkup,o.buttonMarkup))}),i.mobile_$actionKeys.removeClass(s).addClass(i.modOptions(o.buttonAction,o.buttonMarkup)),i.msie&&i.$preview[0]!==i.el&&(i.$preview.hide(),i.$keyboard.css("width",""),i.width=i.$keyboard.outerWidth(),i.$keyboard.width(i.width+parseInt(i.$preview.css("fontSize"),10)),i.$preview.width(i.width),i.$preview.show()),n.ui&&n.ui.position&&((t=t.position).of=t.of||i.$el.data("keyboardPosition")||i.$el,t.collision=t.collision||"flipfit flipfit",i.$keyboard.position(t))},i.modOptions=function(e,t){return" "+(e.cssClass||"")+" "+(t&&t.cssClass?t.cssClass+"-"+(e.theme||""):"")+("true"==e.shadow?" ui-shadow":"")+("true"==e.corners?" ui-corner-all":"")},i.mobile_init())})}});